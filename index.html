<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Young Democrats at the UW</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <style>

        *{
            font-family: 'IBM Plex Sans';
        }
        body{
            display: flex;
            flex-direction: column;
            margin: 3rem;
            margin-top: 1rem;
        }
        .poll-widget {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          margin: 1rem 0;
        }

        .poll-widget button {
          padding: 6px 16px;
          font-size: 2rem;
          background: white;
          border: 2px solid #9ca3af;
          border-radius: 10rem;
          cursor: pointer;
          color: #000000;
          transition: all 0.2s;
        }

        .poll-widget button:hover {
          background: #f9fafb;
        }

        .poll-widget button.voted {
          background: #000000;
          color: white;
          border-color: black;
        }
        h1{
            font-size: 5rem;
          margin-bottom: 0;
        }
        h2{
          font-size: 3rem;
          margin-bottom: 0;
        }
        .smaller{
          margin: 0;
          font-size: 1.5rem;
          color: #888888;
        }

        p{
            font-size: 2rem;
          color: #6e6c6c;
          margin-top: 0.5rem;
          font-style: italic;
        }

        .highlight {
            color: #0565f4;  /* or any color */
        }
        .UW{
            color: #7a027a;
        }
        hr {
            border: none; /* Removes the default border */
            height: 5px; /* Sets the height of the line */
            background-color: #b1b1b1; /* Sets the color of the line */
            margin: 0;
            border-radius: 15px;
        }
        .button {
            width: fit-content;
            display: inline-block;
            padding: 0.75rem 2rem;
            margin: 0.75rem 0.4rem;
            font-size: 1.5rem;
            font-weight: 500;
            text-decoration: none;
            color: #1a1a1a;
            background: #ffffff;
            border: 2px solid #1a1a1a;
            border-radius: 50px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .button:hover {
            background: #1a1a1a;
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .buttons{
            margin: 0.5rem 0;
            display: flex;
            justify-content: start;
            flex-direction: row;
        }
        @media (max-width: 768px) {
            .buttons{
                display: flex;
                justify-content: center;
                flex-direction: row;
            }
            h1 {
                font-size: 4rem;
            }
            h2{
              font-size: 3rem;
            }

            .button {
                width: fit-content;
                display: inline-block;
                padding: 0.75rem 2rem;
                margin: 2.5rem 0.4rem;
                font-size: 1.3rem;
                font-weight: 500;
                text-decoration: none;
                color: #1a1a1a;
                background: #ffffff;
                border: 2px solid #1a1a1a;
                border-radius: 50px;
                transition: all 0.3s ease;
                cursor: pointer;
            }

        }
    </style>
</head>
<body>
<h1>Young <span class="highlight">Democrats</span> at the <span class="UW">UW</span></h1>
<div class="buttons">
  <a href="https://www.instagram.com/youngdemocrats_uw/?hl=en" class="button">Instagram</a>
  <a href="https://docs.google.com/forms/d/e/1FAIpQLScNyxw-CZo2nyRK9L_j_whGhRt5z3KMfnXj22R_wSI9_rX9Og/viewform?usp=sharing&ouid=107633154945399825275" class="button">Whatsapp</a>
  <a href="https://huskylink.washington.edu/organization/yduw" class="button">HuskyLink</a>
</div>
<p>YDUW is a left-of-center umbrella for all students on the UW Seattle campus. We seek to promote youth involvement in liberal politics. We volunteer at the national, state, and local levels with campaigns and on advocacy issues, discuss current events at weekly meetings, and connect with other liberal RSOs for campus-wide actions! We are also connected with other political groups on campus, and we also are dual-chartered with College Democrats and Young Democrats so that we can work together to make the largest impact possible. Reach out or come to your first meeting this week to learn more!</p>

<h2>Will we see you at our next meeting?</h2>
<div class="poll-widget">
  <button id="yes-btn" onclick="vote('yes')">Yes</button>
  <button id="no-btn" onclick="vote('no')">No</button>
</div>
<p class="smaller" id="date">Date: 12/3/2025</p>
<p class="smaller" id="time">Time: 6:10p-7:10p</p>
<p class="smaller" id="location">Location: Savery 166</p>
<p class="smaller" id="topic">Topic: TBD</p>
<p class="smaller" id="counter"></p>

<script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script>
  let currentVote = localStorage.getItem('currentVote');
  const gun = Gun();
  const counterRef = gun.get('myCounter');
  const countDisplay = document.getElementById('counter');

  // Listen for changes - now accessing the 'count' property
  counterRef.on(data => {
    countDisplay.textContent = "RSVP'd: " + (data?.count !== undefined ? data.count : 0);
  });
  const yesBtn = document.getElementById('yes-btn');
  const noBtn = document.getElementById('no-btn');
  if(currentVote === 'yes'){
    yesBtn.classList.add('voted');
  } if(currentVote === 'no'){
    noBtn.classList.add('voted');
  }

  function vote(choice) {
    const yesBtn = document.getElementById('yes-btn');
    const noBtn = document.getElementById('no-btn');

    yesBtn.classList.remove('voted');
    noBtn.classList.remove('voted');

    if (choice === 'yes') {
      yesBtn.classList.add('voted');
      if(choice !== currentVote){
      counterRef.once(data => {
        const newValue = (data?.count || 0) + 1;
        counterRef.put({ count: newValue }); // ✅ Object with property
      });}
    } else {
      noBtn.classList.add('voted');
      if(choice !== currentVote){
        counterRef.once(data => {
          const newValue = (data?.count || 0) - 1;
          counterRef.put({ count: newValue }); // ✅ Object with property
        });
      }
    }

    currentVote = choice;
    localStorage.setItem('currentVote', choice);
  }
</script>
</body>
</html>
